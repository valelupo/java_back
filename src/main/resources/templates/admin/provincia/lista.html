<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Provincias</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
  <link rel="stylesheet" th:href="@{/css/general.css}" />
  <link rel="stylesheet" th:href="@{/css/persona.css}" />
</head>

<body>

<div th:replace="~{fragments/headerGral :: fragment}"></div>

<main class="container py-5">

  <div class="titulo-con-flecha mb-4">
      <a th:href="@{/inicio}" class="btn-volver" title="Volver">
        <i class="bi bi-arrow-left"></i>
      </a>
      <h2>Listado de provincias</h2>
  </div>

  <div class="card tabla-card shadow-sm">
    <div class="card-body">

      <div th:if="${provincias != null and not #lists.isEmpty(provincias)}">
        <table class="table table-hover align-middle">
          <thead>
            <tr>
              <th>ID</th>
              <th>Nombre</th>
              <th class="text-center"></th>
            </tr>
          </thead>

          <tbody>
            <tr th:each="provincia : ${provincias}">
              <td th:text="${provincia.id}"></td>
              <td th:text="${provincia.nombre}"></td>
              <td class="text-center">

                <form th:action="@{'/provincia/eliminar/' + ${provincia.id}}"
                      method="post"
                      class="d-inline-block"
                      onsubmit="return confirm('Â¿Eliminar esta provincia?')">

                  <button type="submit" class="btn btn-trash">
                    <i class="bi bi-trash3-fill"></i>
                  </button>

                </form>

              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <div th:if="${provincias == null or #lists.isEmpty(provincias)}" class="text-center py-3">
        <p class="text-muted">No hay provincias registradas.</p>
      </div>

    </div>
  </div>

  <div class="mt-4 text-center">
    <a th:href="@{/provincia/registrar}" class="btn btn-primary">
      Crear nueva provincia
    </a>

    <div th:replace="~{fragments/mensajes :: fragment}"></div>
  </div>

</main>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
